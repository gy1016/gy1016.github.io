(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{573:function(t,a,s){"use strict";s.r(a);var e=s(12),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),s("p",[t._v("静态资源（js css img），一旦上线基本就不会变的")]),t._v(" "),s("h2",{attrs:{id:"强制缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强制缓存"}},[t._v("#")]),t._v(" 强制缓存")]),t._v(" "),s("h3",{attrs:{id:"expires"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#expires"}},[t._v("#")]),t._v(" Expires")]),t._v(" "),s("ol",[s("li",[t._v("在 Response Headers 中")]),t._v(" "),s("li",[t._v("同为控制缓存过期")]),t._v(" "),s("li",[t._v("已被 Cache-Control 代替")])]),t._v(" "),s("h3",{attrs:{id:"cache-control"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cache-control"}},[t._v("#")]),t._v(" Cache-Control")]),t._v(" "),s("ol",[s("li",[t._v("Response Headers 中")]),t._v(" "),s("li",[t._v("控制强制缓存的逻辑")]),t._v(" "),s("li",[t._v("例如 Cache-Control: max-age=3153600(单位是 s) 控制这个文件被缓存一年")])]),t._v(" "),s("ul",[s("li",[t._v("max-age")]),t._v(" "),s("li",[t._v("no-cache, 不用本地缓存，去服务器请求，服务器怎么缓存我们不管")]),t._v(" "),s("li",[t._v("no-store, 不仅不用本地缓存，也不用服务器的一些缓存措施")]),t._v(" "),s("li",[t._v("private")]),t._v(" "),s("li",[t._v("public")])]),t._v(" "),s("img",{attrs:{src:t.$withBase("/imgs/network/cache-control.png"),alt:"强制缓存"}}),t._v(" "),s("h2",{attrs:{id:"协商缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[t._v("#")]),t._v(" 协商缓存")]),t._v(" "),s("ol",[s("li",[t._v("服务端缓存策略")]),t._v(" "),s("li",[t._v("服务器判断客户端资源，是否和服务端资源一样")]),t._v(" "),s("li",[t._v("一致则返回 304，否则返回 200 和最新的资源")]),t._v(" "),s("li",[t._v("在 Response Headers 中，有两种")])]),t._v(" "),s("h3",{attrs:{id:"last-modified"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#last-modified"}},[t._v("#")]),t._v(" Last-Modified")]),t._v(" "),s("ul",[s("li",[t._v("Last-Modified 资源的最后修改时间")])]),t._v(" "),s("img",{attrs:{src:t.$withBase("/imgs/network/last-modified.png"),alt:"last-modified"}}),t._v(" "),s("h3",{attrs:{id:"etag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#etag"}},[t._v("#")]),t._v(" Etag")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Etag 资源的唯一标识(一个学符串，类似人类的指纹)")])]),t._v(" "),s("li",[s("p",[t._v("会优先使用 Etag，Last-Modified 只能精确到秒级，如果资源被重复生成，而内容不变，则 Etag 更精确")])])]),t._v(" "),s("img",{attrs:{src:t.$withBase("/imgs/network/etag.png"),alt:"Etag"}}),t._v(" "),s("h2",{attrs:{id:"缓存综述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缓存综述"}},[t._v("#")]),t._v(" 缓存综述")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/imgs/network/cache-general.png"),alt:"缓存综述"}}),t._v(" "),s("h2",{attrs:{id:"刷新操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#刷新操作"}},[t._v("#")]),t._v(" 刷新操作")]),t._v(" "),s("ol",[s("li",[t._v("正常操作:地址栏输入 url，跳转链接，前进后退等")])]),t._v(" "),s("ul",[s("li",[t._v("正常操作:强制缓存有效，协商缓存有效")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("手动刷新:F5 ，点击刷新按钮，右击菜单刷新")])]),t._v(" "),s("ul",[s("li",[t._v("手动刷新:强制缓存失效，协商缓存有效")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("强制刷新:ctrl + F5")])]),t._v(" "),s("ul",[s("li",[t._v("强制刷新:强制缓存失效，协商缓存失效")])])])}),[],!1,null,null,null);a.default=r.exports}}]);